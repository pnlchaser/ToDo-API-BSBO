# ToDo API —Å –º–∞—Ç—Ä–∏—Ü–µ–π –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞ (v3.0)

## –û–ø–∏—Å–∞–Ω–∏–µ
RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ –º–∞—Ç—Ä–∏—Ü–µ –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞ (Q1-Q4) –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –¥–µ–¥–ª–∞–π–Ω–æ–≤. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ä–æ—á–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –¥–Ω–µ–π –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞ –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** –Ω–∞–¥ –∑–∞–¥–∞—á–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- üìÖ **–î–µ–¥–ª–∞–π–Ω—ã**: –∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç –ø–ª–∞–Ω–æ–≤—ã–π —Å—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚ö° **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏**: –∑–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–æ—á–Ω–æ–π, –µ—Å–ª–∏ –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞ –æ—Å—Ç–∞–µ—Ç—Å—è ‚â§3 –¥–Ω–µ–π
- üìä **–ú–∞—Ç—Ä–∏—Ü–∞ –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞–º (Q1-Q4)
  - **Q1**: –≤–∞–∂–Ω—ã–µ –∏ —Å—Ä–æ—á–Ω—ã–µ
  - **Q2**: –≤–∞–∂–Ω—ã–µ, –Ω–æ –Ω–µ —Å—Ä–æ—á–Ω—ã–µ
  - **Q3**: –Ω–µ –≤–∞–∂–Ω—ã–µ, –Ω–æ —Å—Ä–æ—á–Ω—ã–µ
  - **Q4**: –Ω–µ –≤–∞–∂–Ω—ã–µ –∏ –Ω–µ —Å—Ä–æ—á–Ω—ã–µ
- üîç **–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á** –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–∞—Ö –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º
- üíæ **–†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–ª—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–Ω–µ–π –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞ –≤ –æ—Ç–≤–µ—Ç–∞—Ö API

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Python** 3.13
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAlchemy** - ORM
- **asyncpg** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä PostgreSQL
- **Pydantic** v2 - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä
- **PostgreSQL** (Supabase) - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ Supabase –∞–∫–∫–∞—É–Ω—Ç
- pip

### –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
# ToDo API ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á —Å –º–∞—Ç—Ä–∏—Ü–µ–π –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞

–ö–æ—Ä–æ—Ç–∫–æ: REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞–º –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞ (Q1‚ÄìQ4) –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–µ–¥–ª–∞–π–Ω–æ–≤.

–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- CRUD –∑–∞–¥–∞—á (—Å–æ–∑–¥–∞–Ω–∏–µ/—á—Ç–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ)
- –î–µ–¥–ª–∞–π–Ω—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ (is_urgent)
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞–º (Q1..Q4)
- –ü–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT), —Ä–æ–ª–∏: user / admin

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.11+
- FastAPI, Uvicorn
- SQLAlchemy (async), asyncpg
- Pydantic v2

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç:

```bash
git clone <repo-url>
cd ToDo-API-BSBO
```

2. –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

3. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` —Å –º–∏–Ω–∏–º—É–º–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```env
DATABASE_URL=postgresql+asyncpg://user:password@host:port/dbname
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
uvicorn main:app --reload
```

API –∏ —Ä–æ—É—Ç—ã (–≤–∞–∂–Ω–æ–µ)
- –ë–∞–∑–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–∫—Å: `/api/v3` (—Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è). –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –ø–æ–¥ `/api/v2`.

–ö–æ—Ä–æ—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
- –ó–∞–¥–∞—á–∏: `GET/POST/PUT/PATCH/DELETE /api/v2/tasks` (–∏ `/api/v3/tasks`)
- –°–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –¥–µ–¥–ª–∞–π–Ω—ã: `GET /api/v2/tasks/today`
- –ü–æ–∏—Å–∫: `GET /api/v2/tasks/search?q=...`
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: `GET /api/v2/stats/`, `GET /api/v2/stats/deadlines`, `GET /api/v2/stats/timing`
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `POST /api/v2/auth/login`, `POST /api/v2/auth/register`
- –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è (—Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏): `PATCH /api/v2/auth/change-password` (payload: `{old_password, new_password}`)
- –ê–¥–º–∏–Ω: `GET /api/v2/admin/users` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏—Ö –∑–∞–¥–∞—á (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º)

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT –≤ —Å—Ö–µ–º–µ Bearer. –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–∞—é—Ç —á–µ—Ä–µ–∑ `/auth/login`.

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
curl -H "Authorization: Bearer <TOKEN>" http://127.0.0.1:8000/api/v2/tasks
```

- –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å (PATCH):

```bash
curl -X PATCH -H "Authorization: Bearer <TOKEN>" -H "Content-Type: application/json" \
  -d '{"old_password":"old","new_password":"newStrong123"}' \
  http://127.0.0.1:8000/api/v2/auth/change-password
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ lint
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å static analysis –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:

```bash
pip install ruff black isort
ruff check . --fix
isort .
black .
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ—Å–Ω–æ–≤–Ω–æ–µ)

```
ToDo-API-BSBO/
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ database.py
‚îú‚îÄ‚îÄ models/        # SQLAlchemy –º–æ–¥–µ–ª–∏ (User, Task –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ routers/       # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: tasks.py, stats.py, auth.py, admin.py
‚îú‚îÄ‚îÄ schemas.py
‚îú‚îÄ‚îÄ schemas_auth.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

–ó–∞–º–µ—Ç–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `get_current_user` / `get_current_admin` –¥–ª—è —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏; –∞–¥–º–∏–Ω ‚Äî –≤—Å–µ.
- –ü—Ä–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `DATABASE_URL` –∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —è –º–æ–≥—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- –¥–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∏ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è;
- –∑–∞–ø—É—Å—Ç–∏—Ç—å `ruff`/`black` –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏;
- —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–π CHANGELOG.md –∏–ª–∏ CONTRIBUTING.md.

–ê–≤—Ç–æ—Ä: –ß–∏—Å—Ç—è–∫–æ–≤ –°–µ—Ä–≥–µ–π
License: MIT
